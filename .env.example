# Backend Environment Configuration
# Copy this file to .env and fill in your actual values

# =============================================================================
# OpenAI API Configuration (Required ONLY for AI Analysis Feature)
# =============================================================================
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=your_openai_api_key_here

# Model selection - GPT-5 series (recommended) or legacy models
# GPT-5 series: gpt-5, gpt-5-mini, gpt-5-nano, gpt-5.1
# Legacy models: gpt-4o, gpt-4o-mini, gpt-4-turbo
OPENAI_MODEL=gpt-5

# OpenAI Pricing Configuration (per 1M tokens) - Auto-configured based on model
# Override only if needed. Prices are automatically set based on model selection:
# GPT-5:        Input=$1.25,  Output=$10.00
# GPT-5-mini:   Input=$0.25,  Output=$2.00
# GPT-5-nano:   Input=$0.05,  Output=$0.40
# GPT-5.1:      Input=$1.25,  Output=$10.00
# GPT-4o:       Input=$2.50,  Output=$10.00
# GPT-4o-mini:  Input=$0.15,  Output=$0.60
# GPT-4-turbo:  Input=$10.00, Output=$30.00
# OPENAI_INPUT_PRICE_PER_MILLION=1.25
# OPENAI_OUTPUT_PRICE_PER_MILLION=10.00

# =============================================================================
# GPT-5 Specific Configuration (Optional - only applies to GPT-5 models)
# =============================================================================
# Reasoning effort: Controls how much reasoning the model does
# Values: minimal, low, medium, high, none (none disables reasoning for faster responses)
OPENAI_REASONING_EFFORT=medium

# Verbosity: Controls output length
# Values: low, medium, high
OPENAI_VERBOSITY=medium

# Service Tier: Controls processing priority and pricing
# Values:
#   - "priority": 40% faster processing (requires Enterprise, premium pricing)
#   - "flex": 50% cheaper processing with higher latency
#   - "auto": automatically use best available tier (recommended)
#   - "default": standard processing
# Note: "priority" requires Enterprise access, "flex" available for gpt-5, o3, o4-mini
OPENAI_SERVICE_TIER=priority

# =============================================================================
# Tesseract OCR Configuration (Required for Contract OCR Feature)
# =============================================================================
# Path to Tesseract executable (optional - only needed for non-standard installations)
# Windows example: TESSERACT_CMD=C:/Program Files/Tesseract-OCR/tesseract.exe
# macOS/Linux: Usually not needed as tesseract is in PATH after installation
# TESSERACT_CMD=/usr/local/bin/tesseract

# =============================================================================
# Application Configuration (Optional - uses defaults if not set)
# =============================================================================

# Debug mode (true/false)
# VARIANCE_APP__DEBUG=false

# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
# VARIANCE_APP__LOG_LEVEL=INFO

# CORS origins (comma-separated for multiple origins)
# VARIANCE_APP__CORS_ORIGINS=*

# =============================================================================
# AI Analysis Configuration (Optional)
# =============================================================================

# Enable/disable AI analysis globally
# VARIANCE_AI_ANALYSIS__ENABLE_AI_ANALYSIS=true

# Use LLM for analysis
# VARIANCE_AI_ANALYSIS__USE_LLM_ANALYSIS=false

# Maximum retries for AI calls
# VARIANCE_AI_ANALYSIS__MAX_AI_RETRIES=3

# AI timeout in seconds
# VARIANCE_AI_ANALYSIS__AI_TIMEOUT_SECONDS=300

# =============================================================================
# File Processing Configuration (Optional)
# =============================================================================

# Maximum file size in bytes (default: 100MB)
# VARIANCE_FILE_PROCESSING__MAX_FILE_SIZE=104857600

# Maximum files per upload request (default: 10, configured: 50)
# VARIANCE_FILE_PROCESSING__MAX_FILES_PER_REQUEST=50

# =============================================================================
# Security Configuration (Optional)
# =============================================================================

# Session timeout in minutes
# VARIANCE_SECURITY__SESSION_TIMEOUT_MINUTES=60

# Maximum concurrent sessions
# VARIANCE_SECURITY__MAX_CONCURRENT_SESSIONS=10

# Rate limit: requests per minute
# VARIANCE_SECURITY__RATE_LIMIT_REQUESTS_PER_MINUTE=100

# =============================================================================
# Analysis Thresholds (Optional - Advanced Configuration)
# =============================================================================

# Revenue change threshold in VND
# VARIANCE_REVENUE_ANALYSIS__REVENUE_CHANGE_THRESHOLD_VND=1000000

# COGS change threshold in VND
# VARIANCE_REVENUE_ANALYSIS__COGS_CHANGE_THRESHOLD_VND=500000

# SG&A change threshold in VND
# VARIANCE_REVENUE_ANALYSIS__SGA_CHANGE_THRESHOLD_VND=500000

# Materiality threshold in VND
# VARIANCE_CORE_ANALYSIS__MATERIALITY_VND=1000000000

# =============================================================================
# Gemini API Configuration (Required for Bank Statement PDF OCR)
# =============================================================================
# Get your API key from: https://aistudio.google.com/app/apikey
GEMINI_API_KEY=your_gemini_api_key_here
GEMINI_MODEL=gemini-2.5-flash
